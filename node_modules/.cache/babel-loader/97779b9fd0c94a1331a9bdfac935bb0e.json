{"ast":null,"code":"import _defineProperty from \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/src/pages/WinesPage/wines.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Nav from '../../components/NavBar';\nimport './wines.css';\nimport Footer from '../../components/Footer';\nimport WineCards from '../../components/WineCards';\nimport Results from '../ResultsPage/results';\nimport Loader from '../../components/Loader';\nvar apiKey = 'bzd8dn636bwpjnzlqwxpl2u8s060jdzpgb8mpw71q11z6zuc';\n\nvar Wines =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Wines, _Component);\n\n  function Wines() {\n    var _this;\n\n    _classCallCheck(this, Wines);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Wines).call(this));\n\n    _this.selectWine = function (wine) {\n      _this.setState({\n        selectedWine: wine\n      });\n    };\n\n    _this.loadWines = function () {\n      var _this$state = _this.state,\n          wineName = _this$state.wineName,\n          wineColor = _this$state.wineColor;\n      axios.get(\"http://api.snooth.com/wines/\", {\n        params: {\n          akey: apiKey,\n          q: wineName || 'wine',\n          photos: '1',\n          color: wineColor,\n          t: 'wine',\n          n: 100\n        }\n      }).then(function (res) {\n        _this.setState({\n          wines: res.data.wines\n        });\n      });\n    };\n\n    _this.handleFilter = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value), function () {\n        _this.loadWines();\n      });\n    };\n\n    _this.searchWine = function (e) {\n      e.preventDefault();\n\n      _this.loadWines();\n    };\n\n    _this.handleFilter = _this.handleFilter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      lwin: '',\n      wineName: '',\n      wineColor: 'red',\n      wines: [],\n      selectedWine: null\n    };\n    return _this;\n  }\n\n  _createClass(Wines, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadWines();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          wineColor = _this$state2.wineColor,\n          wines = _this$state2.wines,\n          selectedWine = _this$state2.selectedWine;\n      if (selectedWine) return React.createElement(Results, {\n        wine: selectedWine,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      });\n      var colorList = ['red', 'white', 'rose', 'amber', 'clear'];\n      return React.createElement(\"div\", {\n        className: \"Wines\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"Container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"box1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"filter-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"wine-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Filter your search\"), React.createElement(\"ul\", {\n        className: \"list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"category-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Color\"), colorList.map(function (wine) {\n        return React.createElement(\"li\", {\n          key: wine,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          checked: wine === wineColor,\n          value: wine,\n          type: \"checkbox\",\n          name: \"wineColor\",\n          onChange: _this2.handleFilter,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }), \" \", wine));\n      }))))), React.createElement(\"div\", {\n        className: \"box2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, !wines.length && React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), wines.length && React.createElement(\"div\", {\n        className: \"wine-cards\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(WineCards, {\n        wines: wines || [],\n        selectWine: this.selectWine,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Wines;\n}(Component);\n\nexport default Wines;","map":{"version":3,"sources":["/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/src/pages/WinesPage/wines.js"],"names":["React","Component","axios","Nav","Footer","WineCards","Results","Loader","apiKey","Wines","selectWine","wine","setState","selectedWine","loadWines","state","wineName","wineColor","get","params","akey","q","photos","color","t","n","then","res","wines","data","handleFilter","event","target","name","value","searchWine","e","preventDefault","bind","lwin","colorList","map","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport Nav from '../../components/NavBar';\nimport './wines.css';\nimport Footer from '../../components/Footer';\nimport WineCards from '../../components/WineCards';\nimport Results from '../ResultsPage/results';\nimport Loader from '../../components/Loader';\n\nconst apiKey = 'bzd8dn636bwpjnzlqwxpl2u8s060jdzpgb8mpw71q11z6zuc';\n\nclass Wines extends Component {\n  constructor() {\n    super();\n\n    this.handleFilter = this.handleFilter.bind(this);\n    this.state = {\n      lwin: '',\n      wineName: '',\n      wineColor: 'red',\n      wines: [],\n      selectedWine: null\n    }\n  }\n\n  componentDidMount() {\n    this.loadWines();\n  }\n\n  selectWine = wine => {\n    this.setState({\n      selectedWine: wine\n    });\n  }\n\n  loadWines = () => {\n    const { wineName, wineColor } = this.state;\n\n    axios.get(`http://api.snooth.com/wines/`, {\n      params: {\n        akey: apiKey,\n        q: wineName || 'wine',\n        photos: '1',\n        color: wineColor,\n        t: 'wine',\n        n: 100\n      }  \n    })\n    .then(res => {\n      this.setState({\n        wines: res.data.wines\n      });\n    });\n  }\n\n  handleFilter = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value\n    }, () => {\n      this.loadWines()\n    })\n  };\n\n  searchWine = e => {\n    e.preventDefault();\n    this.loadWines();\n  }\n\n  render() {\n    const { wineColor, wines, selectedWine } = this.state;\n\n    if (selectedWine) return <Results wine={selectedWine} />;\n\n    const  colorList = ['red', 'white', 'rose', 'amber', 'clear'];\n\n    return (\n      <div className=\"Wines\">\n        <Nav />\n\n        <div className=\"Container\">\n          <div className=\"box1\">\n          <div className=\"filter-search\">\n            <div className=\"wine-list\">\n              <h3>Filter your search</h3>\n\n              {/* <ul className=\"list\">\n                <li className=\"category-name\">Search</li>\n                <li>\n                  <form onSubmit={e => this.searchWine(e)}>\n                    <div className=\"form-group\">\n                      <input type=\"text\" value={wineName} onChange={e => this.setState({ wineName: e.target.value })} className=\"form-control\" placeholder=\"Search\" />\n                    </div>\n                  </form>\n                </li>\n              </ul> */}\n              \n              <ul className=\"list\">\n                <li className=\"category-name\">Color</li>\n                {\n                  colorList.map(wine => (\n                    <li key={wine}>\n                      <label>\n                        <input \n                          checked={wine === wineColor}\n                          value={wine} \n                          type=\"checkbox\" \n                          name=\"wineColor\" \n                          onChange={this.handleFilter} /> {wine}\n                      </label>                    \n                    </li>\n                    )\n                  )\n                }\n              </ul>\n            </div>  \n          </div>\n          </div>\n          <div className=\"box2\">\n          {!wines.length &&\n            <Loader />\n          }\n          {wines.length &&\n            <div className=\"wine-cards\">\n              <WineCards wines={wines || []} selectWine={this.selectWine} />\n            </div>  \n          }\n          </div> \n        </div>\n        <Footer />  \n      </div>\n    );\n  }\n}\n\nexport default Wines;"]},"metadata":{},"sourceType":"module"}