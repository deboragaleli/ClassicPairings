{"ast":null,"code":"import _classCallCheck from \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/src/pages/ResultsPage/results.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './results.css';\nimport Nav from '../../components/NavBar';\nimport Footer from '../../components/Footer';\nimport Loader from '../../components/Loader';\nimport ResultsCards from '../../components/ResultsCards/resultscards';\nvar apiKey = 'a7065834b36529e3cf15043f9180d627';\nvar apiKeyMovie = 'bb8fc13dd42a95bd2852111e40ea8f23';\n\nvar Results =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Results, _Component);\n\n  function Results() {\n    var _this;\n\n    _classCallCheck(this, Results);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Results).call(this));\n\n    _this.getRegion = function (region) {\n      region = region.split('>');\n      return region[0] || '';\n    };\n\n    _this.loadRecipes = function () {\n      axios.get(\"https://www.food2fork.com/api/search?key=\".concat(apiKey, \"&q=&page1\")).then(function (res) {\n        if (!res.data.error) {\n          var noCoffeeRecipes = res.data.recipes.filter(function (recipe) {\n            return recipe.recipe_id !== '47024' && recipe.recipe_id !== '54489';\n          });\n\n          _this.setState({\n            recipe: noCoffeeRecipes[Math.floor(Math.random() * noCoffeeRecipes.length)]\n          });\n        }\n      });\n    };\n\n    _this.loadMovies = function () {\n      axios.get(\"https://api.themoviedb.org/3/discover/movie?primary_release_year=1950&sort_by=vote_average.desc&api_key=\".concat(apiKeyMovie)).then(function (res) {\n        var moviesWithPoster = res.data.results.filter(function (movie) {\n          return movie.poster_path;\n        });\n\n        _this.setState({\n          movie: moviesWithPoster[Math.floor(Math.random() * moviesWithPoster.length)]\n        });\n      });\n    };\n\n    _this.state = {\n      recipe: null,\n      movie: null\n    };\n    return _this;\n  }\n\n  _createClass(Results, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.loadRecipes();\n      this.loadMovies();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var wine = this.props.wine;\n      var _this$state = this.state,\n          recipe = _this$state.recipe,\n          movie = _this$state.movie;\n      return React.createElement(\"div\", {\n        className: \"Results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"storage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"capsule\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"hero-banner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), (!recipe || !movie) && React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), recipe && movie && wine && React.createElement(\"div\", {\n        className: \"results-cards\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Your perfect match...\"), React.createElement(\"div\", {\n        className: \"cards-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(ResultsCards, {\n        title: wine.name,\n        subtitle: \"<strong>Vintage:</strong> \".concat(wine.vintage),\n        image: wine.image || 'http://ei.isnooth.com/multimedia/7/2/8/image_610047_square.png',\n        description: \"<strong>Region:</strong> \".concat(this.getRegion(wine.region)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(ResultsCards, {\n        title: recipe.title,\n        subtitle: recipe.publisher,\n        image: recipe.image_url,\n        link: recipe.source_url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(ResultsCards, {\n        title: movie.original_title,\n        image: \"https://image.tmdb.org/t/p/w370_and_h556_bestv2\".concat(movie.poster_path),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }))))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Results;\n}(Component);\n\nexport default Results;","map":{"version":3,"sources":["/Users/deboragaleli/Documents/DeborasWork/ClassicPairings/src/pages/ResultsPage/results.js"],"names":["React","Component","axios","Nav","Footer","Loader","ResultsCards","apiKey","apiKeyMovie","Results","getRegion","region","split","loadRecipes","get","then","res","data","error","noCoffeeRecipes","recipes","filter","recipe","recipe_id","setState","Math","floor","random","length","loadMovies","moviesWithPoster","results","movie","poster_path","state","wine","props","name","vintage","image","title","publisher","image_url","source_url","original_title"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,eAAP;AACA,OAAOC,GAAP,MAAgB,yBAAhB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AAEA,IAAMC,MAAM,GAAG,kCAAf;AACA,IAAMC,WAAW,GAAG,kCAApB;;IAEMC,O;;;;;AACJ,qBAAc;AAAA;;AAAA;;AACZ;;AADY,UAcdC,SAdc,GAcF,UAACC,MAAD,EAAY;AACtBA,MAAAA,MAAM,GAAGA,MAAM,CAACC,KAAP,CAAa,GAAb,CAAT;AAEA,aAAOD,MAAM,CAAC,CAAD,CAAN,IAAa,EAApB;AACD,KAlBa;;AAAA,UAoBdE,WApBc,GAoBA,YAAM;AAClBX,MAAAA,KAAK,CAACY,GAAN,oDAAsDP,MAAtD,gBACGQ,IADH,CACQ,UAAAC,GAAG,EAAI;AACX,YAAG,CAACA,GAAG,CAACC,IAAJ,CAASC,KAAb,EAAoB;AAClB,cAAMC,eAAe,GAAGH,GAAG,CAACC,IAAJ,CAASG,OAAT,CAAiBC,MAAjB,CAAwB,UAAAC,MAAM;AAAA,mBAAIA,MAAM,CAACC,SAAP,KAAqB,OAArB,IAAgCD,MAAM,CAACC,SAAP,KAAqB,OAAzD;AAAA,WAA9B,CAAxB;;AACA,gBAAKC,QAAL,CAAc;AACZF,YAAAA,MAAM,EAAEH,eAAe,CAACM,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAcR,eAAe,CAACS,MAAzC,CAAD;AADX,WAAd;AAGD;AACF,OARH;AASD,KA9Ba;;AAAA,UAgCdC,UAhCc,GAgCD,YAAM;AACjB3B,MAAAA,KAAK,CAACY,GAAN,mHAAqHN,WAArH,GACGO,IADH,CACQ,UAAAC,GAAG,EAAI;AACX,YAAMc,gBAAgB,GAAGd,GAAG,CAACC,IAAJ,CAASc,OAAT,CAAiBV,MAAjB,CAAwB,UAAAW,KAAK;AAAA,iBAAIA,KAAK,CAACC,WAAV;AAAA,SAA7B,CAAzB;;AACA,cAAKT,QAAL,CAAc;AACZQ,UAAAA,KAAK,EAAEF,gBAAgB,CAACL,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAcG,gBAAgB,CAACF,MAA1C,CAAD;AADX,SAAd;AAID,OAPH;AAQD,KAzCa;;AAGZ,UAAKM,KAAL,GAAa;AACXZ,MAAAA,MAAM,EAAE,IADG;AAEXU,MAAAA,KAAK,EAAE;AAFI,KAAb;AAHY;AAOb;;;;yCAEoB;AACnB,WAAKnB,WAAL;AACA,WAAKgB,UAAL;AACD;;;6BA+BQ;AAAA,UACCM,IADD,GACU,KAAKC,KADf,CACCD,IADD;AAAA,wBAEmB,KAAKD,KAFxB;AAAA,UAECZ,MAFD,eAECA,MAFD;AAAA,UAESU,KAFT,eAESA,KAFT;AAKP,aACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAGI;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEK,CAAC,CAACV,MAAD,IAAW,CAACU,KAAb,KACC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHN,EAMMV,MAAM,IAAIU,KAAV,IAAmBG,IAApB,IACC;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,EAGE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AACE,QAAA,KAAK,EAAEA,IAAI,CAACE,IADd;AAEE,QAAA,QAAQ,sCAA+BF,IAAI,CAACG,OAApC,CAFV;AAGE,QAAA,KAAK,EAAEH,IAAI,CAACI,KAAL,IAAc,gEAHvB;AAGyF,QAAA,WAAW,qCAA8B,KAAK7B,SAAL,CAAeyB,IAAI,CAACxB,MAApB,CAA9B,CAHpG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAOE,oBAAC,YAAD;AACE,QAAA,KAAK,EAAEW,MAAM,CAACkB,KADhB;AAEE,QAAA,QAAQ,EAAElB,MAAM,CAACmB,SAFnB;AAGE,QAAA,KAAK,EAAEnB,MAAM,CAACoB,SAHhB;AAIE,QAAA,IAAI,EAAEpB,MAAM,CAACqB,UAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,EAcE,oBAAC,YAAD;AACE,QAAA,KAAK,EAAEX,KAAK,CAACY,cADf;AAEE,QAAA,KAAK,2DAAoDZ,KAAK,CAACC,WAA1D,CAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAdF,CAHF,CAPN,CADJ,CAHJ,EAsCE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtCF,CADF;AA0CD;;;;EA3FmBhC,S;;AA8FtB,eAAeQ,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './results.css';\nimport Nav from '../../components/NavBar';\nimport Footer from '../../components/Footer';\nimport Loader from '../../components/Loader';\nimport ResultsCards from '../../components/ResultsCards/resultscards';\n\nconst apiKey = 'a7065834b36529e3cf15043f9180d627';\nconst apiKeyMovie = 'bb8fc13dd42a95bd2852111e40ea8f23';\n\nclass Results extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      recipe: null,\n      movie: null\n    }\n  }\n\n  componentWillMount() {\n    this.loadRecipes();\n    this.loadMovies();\n  }\n\n  getRegion = (region) => {\n    region = region.split('>');\n\n    return region[0] || '';\n  }\n\n  loadRecipes = () => {\n    axios.get(`https://www.food2fork.com/api/search?key=${apiKey}&q=&page1`)\n      .then(res => {\n        if(!res.data.error) {\n          const noCoffeeRecipes = res.data.recipes.filter(recipe => recipe.recipe_id !== '47024' && recipe.recipe_id !== '54489');\n          this.setState({\n            recipe: noCoffeeRecipes[Math.floor(Math.random()*noCoffeeRecipes.length)]\n          });\n        }\n      });\n  }\n\n  loadMovies = () => {\n    axios.get(`https://api.themoviedb.org/3/discover/movie?primary_release_year=1950&sort_by=vote_average.desc&api_key=${apiKeyMovie}`)\n      .then(res => {\n        const moviesWithPoster = res.data.results.filter(movie => movie.poster_path);\n        this.setState({\n          movie: moviesWithPoster[Math.floor(Math.random()*moviesWithPoster.length)]\n        });\n\n      });\n  }\n\n  render() {\n    const { wine } = this.props;\n    const { recipe, movie } = this.state;\n\n    \n    return (\n      <div className=\"Results\">\n        <Nav />\n        \n          <div className=\"storage\">\n              <div className=\"capsule\">\n                <div className=\"hero-banner\"></div> \n                  {(!recipe || !movie) &&\n                    <Loader />\n                  }\n\n                  {(recipe && movie && wine) && \n                    <div className=\"results-cards\">\n                      <h1>Your perfect match...</h1>\n\n                      <div className=\"cards-container\">\n                        <ResultsCards\n                          title={wine.name}\n                          subtitle={`<strong>Vintage:</strong> ${wine.vintage}`}\n                          image={wine.image || 'http://ei.isnooth.com/multimedia/7/2/8/image_610047_square.png'} description={`<strong>Region:</strong> ${this.getRegion(wine.region)}`}\n                        />\n                        \n                        <ResultsCards\n                          title={recipe.title}\n                          subtitle={recipe.publisher}\n                          image={recipe.image_url}\n                          link={recipe.source_url}\n                        />\n                        \n                        <ResultsCards\n                          title={movie.original_title}\n                          image={`https://image.tmdb.org/t/p/w370_and_h556_bestv2${movie.poster_path}`}\n                        />\n                      </div>\n                    </div>\n                  }  \n                </div> \n          </div>\n\n        <Footer />  \n      </div>\n    );\n  }\n}\n\nexport default Results;"]},"metadata":{},"sourceType":"module"}